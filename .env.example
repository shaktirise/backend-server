# Server
PORT=4000
HOST=0.0.0.0
NODE_ENV=development
# Comma-separated list of allowed HTTP origins.
# Leave blank to allow all, or use '*' for allow-all explicitly.
# Supports globs (e.g. https://*.example.com) and local shortcuts like http://localhost (any port).
# Example: CORS_ALLOWED_ORIGINS=http://localhost,https://app.example.com
CORS_ALLOWED_ORIGINS=
# Optional Socket.IO override. Inherit from HTTP origins when left blank.
# Supports '*' like HTTP origins.
SOCKET_ALLOWED_ORIGINS=
# Rate limiting (defaults mirror production-safe values).
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100

# Localized time formatting for API responses
APP_TIMEZONE=Asia/Kolkata

# Database & logging
MONGODB_URI=mongodb://localhost:27017/trade-advice
MONGOOSE_DEBUG=0

# Auth & security
JWT_SECRET=replace-with-strong-secret
# Set to 0 for non-expiring tokens
ACCESS_TOKEN_TTL_SEC=0
REFRESH_TOKEN_TTL_SEC=0
REFRESH_TOKEN_BCRYPT_ROUNDS=10
AUTH_TIMING_LOG=

# Password reset
RESET_TOKEN_TTL_MIN=15

# For local testing: return reset code in API response (never enable in production)
EXPOSE_RESET_TOKEN=0

# Email (SMTP) for reset OTPs
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# Defaults to true for port 465; set to 0/false to disable TLS
SMTP_SECURE=

#4344544OTP configuration
OTP_EXP_MIN=10
ADMIN_OTP_EXP_MIN=                                                                                                                                  
ADMIN_OTP_ALLOWED_PHONES=

# Admin onboarding
ADMIN_SIGNUP_TOKEN=

# SMS (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM=
# WhatsApp sending
# Enable send (otherwise dry-run/log only)
WHATSAPP_SEND_ENABLED=0
# Option A: Meta WhatsApp Cloud API (recommended if you don't want Twilio upgrades)
WHATSAPP_CLOUD_TOKEN=
WHATSAPP_CLOUD_PHONE_ID=
# Option B: Twilio WhatsApp (format: whatsapp:+1234567890)
TWILIO_WHATSAPP_FROM=

# Razorpay
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
WEBHOOK_SECRET=

# Dummy payments (development/testing). Set to 0 in production.
DUMMY_PAYMENT_ENABLED=1

# Wallet & billing
MIN_TOPUP_RUPEES=1000
GST_RATE=0.18

# First top-up must equal this rupee amount exactly (±₹1 tolerance)
FIRST_TOPUP_REQUIRED_RUPEES=2100
# After activation, enforce this as the minimum top-up (in rupees)
MIN_TOPUP_RUPEES_AFTER_ACTIVATION=1000

# Membership validity (days)
# 2100 top-up activates for this many days
ACCOUNT_REGISTRATION_VALID_DAYS=60
# 1000 top-up extends/renews for this many days
ACCOUNT_RENEWAL_VALID_DAYS=30

# Google OAuth
GOOGLE_CLIENT_ID=

# Cloudinary (for segment images)
CLOUDINARY_URL=
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_IMAGE_FOLDER=juststock-image
CLOUDINARY_UPLOAD_FOLDER=

# Referral sharing
APP_DOWNLOAD_URL=
# Base URL used to build referral links (supports {{code}} placeholder or appends ?ref=)
REFERRAL_SHARE_BASE_URL=
# Optional tuning
REFERRAL_CODE_LENGTH=8
REFERRAL_CODE_ALPHABET=ABCDEFGHJKLMNPQRSTUVWXYZ23456789
REFERRAL_LEVEL_PERCENTAGES=10,7,5,4,2,2,2
# New fixed-amount MLM (10 levels). Values are in rupees.
# Registration: ₹2100 => 500,100,50x8 (total 1000 to network; remaining 1100 company share)
REFERRAL_REGISTRATION_AMOUNTS=500,100,50,50,50,50,50,50,50,50
# Renewal: ₹1000 => 50x10 (total 500 to network; remaining 500 company share)
REFERRAL_RENEWAL_AMOUNTS=50,50,50,50,50,50,50,50,50,50
REFERRAL_REGISTRATION_FEE_RUPEES=2100
REFERRAL_RENEWAL_FEE_RUPEES=1000
# Optional: cap payout depth (defaults to 10)
REFERRAL_MAX_DEPTH=10
# Activation threshold (first-time referral lock-in)
REFERRAL_MIN_ACTIVATION_RUPEES=2100

# Deep linking & app associations
# Public base URL used to build share links (e.g., https://your-domain.com)
PUBLIC_BASE_URL=
# HMAC secret for deep link signing
DEEPLINK_SECRET=
# Custom scheme your Flutter app handles, without :// (e.g., myapp)
APP_CUSTOM_SCHEME=myapp
# Store URLs for fallback when app is not installed
PLAY_STORE_URL=
APP_STORE_URL=
# Optional direct APK link if not on Play Store
APK_DOWNLOAD_URL=
# Android App Links: package and SHA-256 cert fingerprints (comma-separated)
ANDROID_PACKAGE_NAME=
ANDROID_SHA256_DIGESTS=
# iOS Universal Links: <AppleTeamID>.<BundleID> (e.g., AB12CD34EF.com.example.app)
IOS_APP_ID=

# Firebase (for push notifications via firebase-admin)
# Option A: paste the entire service account JSON (single line with escaped newlines in private_key)
# GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...","client_id":"...","token_uri":"https://oauth2.googleapis.com/token"}

# Option B: set discrete fields (use \n for newlines in private key)
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=
# Aadhaar OTP KYC (mock/provider)
# Base URL for KYC provider; defaults to sandbox if not set
KYC_API_BASE=https://sandbox.kycprovider.com
# API key/secret to authorize with KYC provider
KYC_API_KEY=

# For local testing, you can use the built-in mock provider:
# KYC_API_BASE=http://localhost:4000/mock-kyc
# KYC_API_KEY=anything
